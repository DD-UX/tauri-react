# Generated by 'awesome-app' command line.
awesome_app_version = "0.1.4"

# If 'awesome-app dev' is not working with this Awesome.toml, rename or delete it, 
# and run again 'awesome-app dev' and this file will be generated again.

# Note 1: Runners executed in order. Default is blocking except if concurrent = true.
# Note 2: end_all_on_exit = true, for concurrent runners tells to end the session if this specific process ends.
# Note 3: Eventually, [[runners.build]] will also be available. Splitting the two makes it less convoluted and more flexible.

[[dev.runners]]
name = "npm_packages_install"
cmd = "yarn"
args = ["install"]

[[dev.runners]]
name = "tauri_icons"
when.no_file_at = "src-tauri/icons/32x32.png"
cmd = "cargo"
args = ["tauri", "icon", "src-tauri/icons/app-icon.png"]

[[dev.runners]]
name = "next_build_export"
cmd = "npm"
args = ["run", "build"]

[[dev.runners]]
name = "next_dev"
cmd = "npm"
args = ["run", "dev"]
concurrent = true
end_all_on_exit = true

[[dev.runners]]
name = "cargo_build"
wait_before = 2000 # wait in ms, before getting called
working_dir = "src-tauri/"
cmd = "cargo"
args = ["build"]

[[dev.runners]]
name = "cargo_test"
wait_before = 2000 # wait in ms, before getting called
working_dir = "src-tauri/"
cmd = "cargo"
args = ["test"]

[[dev.runners]]
name = "tauri_dev"
wait_before = 2000 # wait in ms, before getting called
cmd = "cargo"
args = ["tauri", "dev"]
concurrent = true
end_all_on_exit = true